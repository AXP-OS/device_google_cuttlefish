{
  "vsoc_device_regions" : [
   {
     "device_name" : "vsoc_input",
     "__comment" : "Send input events to the guest",
     "current_version" : 1,
     "min_compatible_version" : 1,
     "region_size" : 4096,

     "guest_to_host_signal_table" : {
       "__comment" : "sizeof each node is based on common/libs/shm_compatible/lock.h",
       "num_nodes_lg2" : 0
      },

     "host_to_guest_signal_table" : {
       "num_nodes_lg2" : 0
      }
   },

   {
     "device_name" : "hwcomposer",
     "__comment" : "HWComposer related",
     "current_version" : 1,
     "min_compatible_version" : 1,
     "region_size" : 16384,

     "guest_to_host_signal_table" : {
       "__comment" : "sizeof each node is based on common/libs/shm_compatible/lock.h",
       "num_nodes_lg2" : 2
      },

     "host_to_guest_signal_table" : {
       "num_nodes_lg2" : 2
      }
   },

   {
     "device_name" : "input_events",
     "__comment" : "Send input events from host to guest",
     "current_version" : 0,
     "min_compatible_version" : 0,
     "region_size": 4096,

     "guest_to_host_signal_table" : {
       "__comment" : "sizeof each node is based on common/libs/shm_compatible/lock.h",
       "num_nodes_lg2" : 2
      },

     "host_to_guest_signal_table" : {
       "num_nodes_lg2" : 2
      }
   },

   {
     "device_name" : "fb_broadcast",
     "__comment" : "Broadcasts new frames",
     "current_version" : 0,
     "min_compatible_version" : 0,
     "region_size": 4096,

     "guest_to_host_signal_table" : {
       "__comment" : "sizeof each node is based on common/libs/shm_compatible/lock.h",
       "num_nodes_lg2" : 2
      },

     "host_to_guest_signal_table" : {
       "num_nodes_lg2" : 2
      }
   },

   {
     "device_name" : "gralloc_manager",
     "__comment" : "Manages allocation of gralloc buffers",
     "current_version" : 0,
     "min_compatible_version" : 0,
     "region_size" : 40960,

     "guest_to_host_signal_table" : {
       "__comment" : "sizeof each node is based on common/libs/shm/lock.h",
       "num_nodes_lg2" : 2
      },

     "host_to_guest_signal_table" : {
       "num_nodes_lg2" : 2
      }
   },

   {
     "device_name" : "gralloc_memory",
     "__comment" : "Holds the gralloc buffers. Size is 400 MB minus the size of the framebuffer",
     "managed_by" : "gralloc_manager",
     "current_version" : 0,
     "min_compatible_version" : 0,
     "region_size" : 407142400,

     "guest_to_host_signal_table" : {
       "__comment" : "sizeof each node is based on common/libs/shm/lock.h",
       "num_nodes_lg2" : 0
      },

     "host_to_guest_signal_table" : {
       "num_nodes_lg2" : 0
      }
   },


   {
     "device_name" : "framebuffer",
     "__comment" : "Holds the frame buffers. Size is enough to accomodate 3 buffers 800x1280 in RGBA format, with 4 bytes of padding, plus an extra page",
     "current_version" : 0,
     "min_compatible_version" : 0,
     "region_size" : 12292096,

     "guest_to_host_signal_table" : {
       "__comment" : "sizeof each node is based on common/libs/shm/lock.h",
       "num_nodes_lg2" : 0
      },

     "host_to_guest_signal_table" : {
       "num_nodes_lg2" : 0
      }
   },

   {
     "device_name" : "socket_forward",
     "__comment" : "Holds the data being used by the socket forwarding",
     "current_version" : 0,
     "min_compatible_version" : 0,
     "__comment" : "FIXME this region size is huge until I nail down the correct size",
     "region_size" : 2105344,

     "guest_to_host_signal_table" : {
       "__comment" : [
           "sizeof each node is based on common/libs/shm/lock.h",
           "16 spinlocks = 16 * 4 = 64",
           "then the atomic generation number is + 4"
       ],
       "num_nodes_lg2" : 7
      },

     "host_to_guest_signal_table" : {
       "num_nodes_lg2" : 7
      }
   },

   {
     "device_name" : "wifi_exchange",
     "__comment" : [
       "WIFI exchange buffer for primary wireless network interface.",
       "Must be able to accomodate at least one pagesize long packet each direction",
       "Region size = 2 * CircularPacketQueue64k_size + 1024 bytes for control structures."
     ],
     "current_version" : 0,
     "min_compatible_version" : 0,
     "region_size" : 139264,

     "guest_to_host_signal_table" : {
       "num_nodes_lg2" : 2
      },

     "host_to_guest_signal_table" : {
       "num_nodes_lg2" : 2
      }
   },


   {
     "device_name" : "ril",
     "__comment" : [
       "Holds initialization values for the ril hal."
     ],
     "current_version" : 0,
     "min_compatible_version" : 0,
     "region_size" : 4096,

     "guest_to_host_signal_table" : {
       "num_nodes_lg2" : 2
      },

     "host_to_guest_signal_table" : {
       "num_nodes_lg2" : 2
      }
   },


   {
    "device_name" : "e2e_primary",
    "__comment" : "Sanity testing",
    "current_version" : 1,
    "min_compatible_version" : 1,
    "region_size" : 16384,

    "guest_to_host_signal_table" : {
      "num_nodes_lg2" : 1
    },

    "host_to_guest_signal_table" : {
      "num_nodes_lg2" : 1
    }
   },

   {
    "device_name" : "e2e_secondary",
    "__comment" : "Sanity testing",
    "current_version" : 1,
    "min_compatible_version" : 1,
    "region_size" : 16384,

    "guest_to_host_signal_table" : {
      "num_nodes_lg2" : 1
    },

    "host_to_guest_signal_table" : {
      "num_nodes_lg2" : 1
    }
   },

   {
    "device_name" : "e2e_manager",
    "__comment" : "Sanity testing of managed regions",
    "current_version" : 1,
    "min_compatible_version" : 1,
    "region_size" : 4096,

    "guest_to_host_signal_table" : {
      "num_nodes_lg2" : 1
    },

    "host_to_guest_signal_table" : {
      "num_nodes_lg2" : 1
    }
   },

   {
    "device_name" : "e2e_managed",
    "__comment" : "Sanity testing of managed regions",
    "current_version" : 1,
    "min_compatible_version" : 1,
    "region_size" : 16384,
    "managed_by" : "e2e_manager",

    "guest_to_host_signal_table" : {
      "num_nodes_lg2" : 1
    },

    "host_to_guest_signal_table" : {
      "num_nodes_lg2" : 1
    }
   },

   {
     "device_name" : "audio_data",
     "__comment" : "Write audio HAL output data to ringbuffer",
     "current_version" : 0,
     "min_compatible_version" : 0,
     "region_size": 20480,

     "guest_to_host_signal_table" : {
       "__comment" : "sizeof each node is based on common/libs/shm_compatible/lock.h",
       "num_nodes_lg2" : 2
      },

     "host_to_guest_signal_table" : {
       "num_nodes_lg2" : 2
      }
   }
  ]
}
